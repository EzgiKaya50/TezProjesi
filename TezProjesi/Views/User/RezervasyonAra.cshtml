@model TezProjesi.CustomModels.HomePageModels
@{
    ViewData["Title"] = "RezervasyonAra";
    Layout = "~/Views/Shared/_Layout_user.cshtml";
}

<section class="accomodation_area section_gap">
    <div class="container">
        <div class="section_title text-center">
            <div class="container">
                @{ 
                    int daydiff =(int)(Model.reservation.enddate - Model.reservation.startdate).TotalDays + 1;
                }
                @foreach (var Room in Model.RoomList)
                {
                    <div class="col-12 mb-2">
                        <div class="row">
                            <div class="col-6">
                                <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                                    <div class="carousel-inner">
                                        @{int index = 0; }
                                        @foreach (var room in Room.RoomImages)
                                        {
                                            @if (index == 0)
                                            {
                                                <div class="carousel-item active">
                                                    <img src="~/RoomImg/@room.RoomImg" class="d-block w-100" alt="...">
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="carousel-item">
                                                    <img src="~/RoomImg/@room.RoomImg" class="d-block w-100" alt="...">
                                                </div>
                                            }
                                            index++;
                                        }


                                    </div>
                                    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                        <span class="sr-only">Previous</span>
                                    </a>
                                    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                        <span class="sr-only">Next</span>
                                    </a>
                                </div>
                            </div>
                            <div class="col-6">
                                <h4>Oda : @Room.Title</h4>
                                <h5>Yetişkin : @Room.Adult</h5>
                                <h5>Çocuk : @Room.Children</h5>
                                <h5>Tarih : @Model.reservation.startdate.ToShortDateString() - @Model.reservation.enddate.ToShortDateString()</h5>
                                <h5>Gecelik Fiyat : @Room.Price ₺</h5>
                                <h5>Toplam Fiyat : @(Room.Price* daydiff) ₺</h5>
                                <a class="book_now_btn button_hover" href="@Url.Action("OdemeSayfasi","User", new {startDate = Model.reservation.startdate,endDate= Model.reservation.enddate,children= Model.reservation.children,adults= Model.reservation.adults,hotelID= Model.reservation.HotelID,roomID = Room.Id })">Rezervasyon Yap</a>
                            </div>
                        </div>
                    </div>

                }
            </div>
        </div>
    </div>
</section>